---
phase: "11.1"
plan: "02"
subsystem: "build-system"
tags: ["cmake", "ci", "qt-version", "deprecation"]
depends_on: ["11.1-01"]
provides: ["minimum-qt-version-enforcement", "deprecation-guard", "updated-ci-matrix"]
affects: ["ci-pipeline", "release-pipeline"]
tech_stack:
  patterns: ["cmake-version-guard", "qt-deprecation-before"]
key_files:
  modified:
    - "CMakeLists.txt"
    - ".github/workflows/ci.yml"
    - ".github/workflows/release.yml"
metrics:
  tasks: 2
  commits: 2
  duration: "~3 min"
  completed: "2026-02-02"
---

# Phase 11.1 Plan 02: CMake Version Enforcement and CI Matrix Update Summary

**One-liner:** Enforce Qt 5.15.1+ / 6.5+ minimums in CMake with QT_DISABLE_DEPRECATED_BEFORE=0x050F00, replace Qt 6.2 with 6.5 in CI

## What Was Done

### Task 1: CMake minimum version enforcement and deprecation guard
- Updated `QT_MIN_VERSION_5` from `"5.15"` to `"5.15.1"`
- Updated `QT_MIN_VERSION_6` from `"6.0"` to `"6.5"`
- Added explicit version checks after Qt detection with `FATAL_ERROR` messages for Qt < 5.15.1 and Qt < 6.5
- Added `add_definitions(-DQT_DISABLE_DEPRECATED_BEFORE=0x050F00)` to reject pre-5.15.0 deprecated APIs at compile time

### Task 2: CI matrix update - Qt 6.2 to Qt 6.5
- Replaced Qt 6.2.4 entries with Qt 6.5.3 in ci.yml (both Linux and Windows rows)
- Updated release.yml artifact references from qt6.2 to qt6.5
- CI matrix now covers: Qt 5.15.2, 6.5.3, 6.8.0, 6.9.0 x linux-gcc, windows-msvc (8 cells)
- No qt6.2 references remain in any workflow file

## Commits

| Hash | Message |
|------|---------|
| 55679e1 | feat(11.1-02): enforce minimum Qt versions and add deprecation guard |
| d060fb1 | feat(11.1-02): replace Qt 6.2 with Qt 6.5 in CI and release matrices |

## Deviations from Plan

None - plan executed exactly as written.

## Decisions Made

| Decision | Rationale |
|----------|-----------|
| Hex value 0x050F00 for Qt 5.15.0 | Standard Qt version encoding: major<<16 + minor<<8 + patch |
| Qt 6.5.3 specifically | Latest patch of 6.5 LTS available via aqtinstall |

## Verification Results

1. CMakeLists.txt has `QT_DISABLE_DEPRECATED_BEFORE=0x050F00` - PASS
2. CMakeLists.txt rejects Qt < 5.15.1 and Qt < 6.5 with FATAL_ERROR - PASS (two enforcement blocks present)
3. CI workflow has 8 matrix cells: qt5.15, qt6.5, qt6.8, qt6.9 x linux, windows - PASS
4. No references to "6.2" remain in any workflow file - PASS (grep returns zero matches)

## Next Phase Readiness

Phase 11.1 is now complete (both plans executed). The source compatibility changes from Plan 01 combined with the version enforcement and CI matrix update from Plan 02 establish a solid Qt 5.15+ / Qt 6.5+ compatibility baseline. CI should pass green on all 8 matrix cells after push.
